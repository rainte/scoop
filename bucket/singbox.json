{
    "version": "1.12.11",
    "description": "翻墙: Singbox",
    "homepage": "https://github.com/SagerNet/sing-box",
    "license": "Unknown",
    "url": "https://github.com/SagerNet/sing-box/releases/download/v1.12.11/sing-box-1.12.11-windows-amd64.zip",
    "hash": "9deac98a1d8e90b4cac2604b5ae2a019e8493a7a5b987b1d465c80bae55d800f",
    "extract_dir": "sing-box-1.12.11-windows-amd64",
    "pre_install": [
        "Copy-Item -Path \"$bucketsdir\\rainte\\scripts\\singbox\\run.ps1\" -Destination \"$dir\\run.ps1\"",
        "Copy-Item -Path \"$bucketsdir\\rainte\\scripts\\singbox\\default.json\" -Destination \"$dir\\default.json\""
    ],
    "shortcuts": [
        [
            "run.ps1",
            "Singbox"
        ]
    ],
    "post_install": {
        "script": [
        "Write-Output '111'",
            "$Action = New-ScheduledTaskAction -Execute \"$dir\\sing-box.exe\" -Argument \"run -c config.json\" -WorkingDirectory $dir",
        "Write-Output '222'",
            "$Trigger = New-ScheduledTaskTrigger -AtStartup",
        "Write-Output '333'",
            "$Settings = New-ScheduledTaskSettingsSet -AllowStartIfOnBatteries -DontStopIfGoingOnBatteries -StartWhenAvailable",
        "Write-Output '444'",
            "$Principal = New-ScheduledTaskPrincipal -UserId \"SYSTEM\" -LogonType ServiceAccount -RunLevel Highest",
        "Write-Output '555'",
            "Register-ScheduledTask -TaskName \"SingBoxStartup\" -Action $Action -Trigger $Trigger -Settings $Settings -Principal $Principal -Description \"Start sing-box service at startup\""
        ]
    },
    "uninstaller": {
        "script": "Unregister-ScheduledTask -TaskName \"SingBoxStartup\" -Confirm:$false"
    },
    "checkver": "github",
    "autoupdate": {
        "url": "https://github.com/SagerNet/sing-box/releases/download/v$version/sing-box-$version-windows-amd64.zip",
        "extract_dir": "sing-box-$version-windows-amd64"
    }
}
