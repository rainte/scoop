{
    "version": "1.13.0",
    "description": "翻墙: Singbox",
    "homepage": "https://github.com/SagerNet/sing-box",
    "license": "Unknown",
    "url": "https://github.com/SagerNet/sing-box/releases/download/v1.13.0/sing-box-1.13.0-windows-amd64.zip",
    "hash": "c080ac4f53f1e92fe44a5440958bfe6ff6a3db75347fe6b31afc6d6517a8d76e",
    "extract_dir": "sing-box-1.13.0-windows-amd64",
    "pre_install": [
        "Copy-Item -Path \"$bucketsdir\\rainte\\scripts\\singbox\\run.ps1\" -Destination \"$dir\\run.ps1\"",
        "Copy-Item -Path \"$bucketsdir\\rainte\\scripts\\singbox\\default.json\" -Destination \"$dir\\default.json\""
    ],
    "shortcuts": [
        [
            "run.ps1",
            "Singbox"
        ]
    ],
    "post_install": [
        "$Action = New-ScheduledTaskAction -Execute \"$dir\\sing-box.exe\" -Argument \"run -c config.json\" -WorkingDirectory $dir",
        "$Trigger = New-ScheduledTaskTrigger -AtStartup",
        "$Settings = New-ScheduledTaskSettingsSet -AllowStartIfOnBatteries -DontStopIfGoingOnBatteries -StartWhenAvailable",
        "$Principal = New-ScheduledTaskPrincipal -UserId \"SYSTEM\" -LogonType ServiceAccount -RunLevel Highest",
        "Register-ScheduledTask -TaskName \"SingBoxStartup\" -Action $Action -Trigger $Trigger -Settings $Settings -Principal $Principal -Description \"Start sing-box service at startup\""
    ],
    "uninstaller": {
        "script": "Unregister-ScheduledTask -TaskName \"SingBoxStartup\" -Confirm:$false"
    },
    "checkver": "github",
    "autoupdate": {
        "url": "https://github.com/SagerNet/sing-box/releases/download/v$version/sing-box-$version-windows-amd64.zip",
        "extract_dir": "sing-box-$version-windows-amd64"
    }
}
